<link type="text/css" rel="stylesheet" href="bower_components/handsontable/handsontable/dist/handsontable.full.min.css">
<link type="text/css" rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css" >

<!-- <link rel="stylesheet prefetch" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.4.2/chosen.css">
 -->

  <link rel="stylesheet prefetch" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.4.2/chosen.css">
<!--  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.4.2/chosen.jquery.js"></script>
 --><!--  <link type="text/css" rel="stylesheet" href="styles/chosen.css">
 -->

<script rel="stylesheet prefetch" src="scripts/chosen.jquery.js"></script>

 <link href="styles/ngDialog-theme-flat.css" rel="stylesheet" type="text/css">


<style>
@import url(//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css);
hr {
  height: 2px;
  margin-left: 15px;
  margin-top:25px;
  margin-bottom: 50px;
}
.hr-warning{
  background-image: -webkit-linear-gradient(left, rgba(210,105,30,.8), rgba(210,105,30,.6), rgba(0,0,0,0));
}
.hr-success{
  background-image: -webkit-linear-gradient(left, rgba(15,157,88,.8), rgba(15, 157, 88,.6), rgba(0,0,0,0));
}
.hr-primary{
  background-image: -webkit-linear-gradient(left, rgba(66,133,244,.8), rgba(66, 133, 244,.6), rgba(0,0,0,0));
}
.hr-danger{
  background-image: -webkit-linear-gradient(left, rgba(244,67,54,.8), rgba(244,67,54,.6), rgba(0,0,0,0));
}

/* For chosen: single and multiple*/
.chosen-container .chosen-drop {
  max-height: 150px;
  overflow-y: auto;
}
.chosen-container-single .chosen-search{
    width:75%;
}

/* vertical scroll typeahead*/
#scrollable-dropdown-menu-typeahead .dropdown-menu {
  max-height: 150px;
  overflow-y: auto;
}



.table-fixed thead {
  width: 100%;
  text-align:center;
  vertical-align: middle;
}
.table-fixed  th {
  text-align:center;
}

.table-fixed tbody {
  height: 495px;
  overflow-y: auto;
  width: 100%;
}
.table-fixed thead, .table-fixed tbody, .table-fixed tr, .table-fixed td, .table-fixed th {
  display: block;
}
.table-fixed tbody td, .table-fixed thead > tr > tr > th {
  float: left;
  border-bottom-width: 0;
  text-align:center;
  vertical-align: middle;
}


</style>























<!-- <div class='well'>

  <h1 style="text-align:center;">Upload your project here</h1>
  <hr class="hr-primary" > 

</div> -->

<div class="wellDimension" id="stepProgressBar">
  <div class="row" ng-show='true'>
    <ul class="progressbar">
      <li>Upload Data</li>
      <!-- <li class="active">Upload Data</li> -->
      <li>Check Data</li>
      <li>Upload Lists Files</li>
      <li>Check Lists Files</li>
    </ul>
  </div>
</div>

<div class='well' >
  <div ng-show="!hasData" class="panel panel-default">
      <div class="panel-heading">
          Upload your projects here
      </div>
      <div class="panel-body">
          <div class="row">
            <a href="" ngf-select="signature_upload($file)" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" style="text-align: center;">
              <div class="col-md-2" style="margin-top: 50px;vertical-align: middle;" >
                <i class="fa fa-file fa-5x" aria-hidden="true" style="margin-top: 10px;"></i>
                <h2>Create new</h2>
              </div>
            </a>
            <div class="col-md-10">
              <p>Download the last template for data upload.<br> Use the v.04 template version. All other versions are deprecated</p>
              <table class="table table-bordered table-hover table-striped">
                <tr>
                  <th>Description</th>
                  <th>File</th>
                </tr>
                <tr>
                    <td>GeneULike update project template</td>
                    <td><a ng-href="Template/NewCreate.xlsx">GeneULike_template_v0.4</a></td>
                </tr>
              </table>
            </div>
          </div>
      </div>
  </div>

  <div ng-show="hasData" >

    <div class="row">
      <div class="col-xs-6">
          <div class="btn btn-success fileinput-button" ngf-select="signature_upload($file)" ngf-multiple="false" ng-click="newData()" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet">
            <i class="glyphicon glyphicon-plus"></i>
            <span>Load New File</span>
          </div>
      </div>  
    </div>

    <br>

      <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#project" target="_self" ng-click="showProjects()">Projets ({{projects_number}})</a></li>
        <li><a data-toggle="tab" href="#strategy"  target="_self" ng-click="showStrategies()">Strategies ({{strategies_number}})</a></li>
        <li><a data-toggle="tab" href="#list" target="_self" ng-click="showLists()">Lists ({{lists_number}})</a></li>
      </ul>

    <br>

    <div style="width:100%;overflow:auto;"">
      <div id="excelTable" class="hot handsontable htColumnHeaders htRowHeaders" data-originalstyle="overflow: hidden;"></div>
    </div>

  </div>

</div>
<script type="text/ng-template" id="ProjectOntology">
<!--   <div class="ngdialog-message"> -->
  <div ng-show="viewOntology">
    <div class="row">
      <div class="col-xs-3"></div>
      <div class="col-xs-6">
         <h2> <i class="fa fa-search text-center" aria-hidden="true"></i>Ontology Search</h2>
      </div>
    </div>
    <br>
    <div ng-if="danger" class="alert alert-danger">
        {{danger}}
        <br>
    </div>
    <div ng-if="success" class="alert alert-success">
        {{success}}
        <br>
    </div>
    <div ng-if="warning" class="alert alert-warning">
        {{warning}}
        <br>
    </div>
    <!-- <div style="text-align: top;">
      <h2> <i class="fa fa-sitemap fa-4x" aria-hidden="true"></i> Ontology Search</h2>
    </div> -->

    <div class= "row">
      <div class="form-group">
      <label class="control-label col-xs-4" for="first_name" >Select Database</label>
        <div class="col-xs-8">

          <select ng-model="onto_selected" class="form-control" ng-change="onDatabaseChange()" id="ontology" ng-show="projectview">
                      <option value="" disabled selected>Please select</option>
                      <option value="NCBITAXON">National Center for Biotechnology Information (NCBI) Organismal Classification (NCBITAXON)</option>
                      <option value="CHEBI">Chemical Entities of Biological Interest (CHEBI)</option>
                      <option value="FMA">Foundational Model of Anatomy (FMA)</option>
                      <option value="HP">Human Phenotype Ontology (HP)</option>
                      <option value="PATO">Phenotypic Quality Ontology (PATO)</option>
                      <option value="DOID">Human Disease Ontology (DOID)</option>
                      <option value="GO">Gene Ontology (GO)</option>
                      <option value="CL">Cell Ontology (CL)</option>
                      <option value="BTO">BRENDA Tissue and Enzyme Source Ontology (BTO)</option>
                      <option value="MP">Mammalian Phenotype Ontology (MP)</option>
                      <option value="OBI">Ontology for Biomedical Investigations (OBI)</option>
          </select>

          <select ng-model="onto_selected" class="form-control" ng-change="onDatabaseChange()" id="ontology" ng-show="strategyview">
                      <option value="" disabled selected>Please select</option>
                      <option value="NCBITAXON">National Center for Biotechnology Information (NCBI) Organismal Classification (NCBITAXON)</option>
                      <option value="CHEBI">Chemical Entities of Biological Interest (CHEBI)</option>
                      <option value="FMA">Foundational Model of Anatomy (FMA)</option>
                      
          </select>

          <select ng-model="onto_selected" class="form-control" ng-change="onDatabaseChange()" id="ontology" ng-show="listview">
                      <option value="" disabled selected>Please select</option>
                      <option value="NCBITAXON">National Center for Biotechnology Information (NCBI) Organismal Classification (NCBITAXON)</option>
                      <option value="CHEBI">Chemical Entities of Biological Interest (CHEBI)</option>
                      <option value="FMA">Foundational Model of Anatomy (FMA)</option>
                      
          </select>
        </div>
      </div>
    </div>
    <div class= "row">
      <div class="form-group">
          <div ng-if="onto_selected" class="form-group">
                  <label class="control-label col-xs-4" for="first_name">Search Term</label>
                  <div class="col-xs-8">
                  <div id="scrollable-dropdown-menu-typeahead">
                    <input  class="form-control" id="organism_vivo" type="text" ng-model="selectOnto" placeholder="Species"
                           ng-change="get_onto()" typeahead-min-length="4" typeahead-on-select="selected_tissue($item, $model,label)" typeahead=" item.prefLabel for item in search_result | filter:$viewValue" typeahead-loading="loading" 
                          class="form-control">
                  </div>
                  </div>
              </div>
            </div>
    </div>

    <br>
    <!-- <button ng-disabled="!onto" ng-click="addOntologyProject()">Add</button> -->
    <div class= "row">

      <div class="col-xs-12">
        <div ng-disabled="!onto" ng-click="addOntology()" class ="btn btn-success btn-block" >
          <i class="glyphicon glyphicon-plus"></i>
          <span>Add</span>
        </div>
        <!-- <button ng-disabled="!onto" ng-click="addOntology()" class ="btn btn-success btn-block" ><i class="glyphicon glyphicon-plus">Add</i></button> -->
      </div>
    </div>
  </div>

  <div ng-show="!viewOntology">

    <div class="row">
      <div class="col-xs-3"></div>
      <div class="col-xs-7">
         <h2> <i class="fa fa-eye text-center" aria-hidden="true"></i>Ontology Overview</h2> 
      </div>

    </div>
    <br>

    <div class ="row" ng-show="isValueEmpty()">
      <div class="col-xs-12">
        <p> No result. Please Add Some Ontology Term(s).
      </div>
    </div>
    <div class ="row" ng-if="!isValueEmpty()">
      <div class="col-xs-12">

         

        <table id="overViewTable" class= "table table-fixed">

          <thead>
            
            <th class="col-xs-3" style="padding: 10px 0px 10px;">Database</th>
            <th class="col-xs-8" style="padding: 10px 0px 10px;">Ontology Term</th>
            <th class="col-xs-1" style="padding: 10px 0px 10px;">Delete</th>

          </thead>

          <tbody>  
            <tr ng-repeat-start="(database,listTerm) in value"> 
              <tr ng-repeat-end ng-repeat="term in listTerm">
                <td class="col-xs-3" style="padding: 20px 0px 10px;"> {{ database }}</td>
                <td class="col-xs-8" style="padding: 20px 0px 10px;"> {{ term }}</td>
                <td class="col-xs-1" style="padding: 20px 0px 10px;">
                  <p data-placement="left" data-toggle="tooltip" title="Delete">
                    <button class="btn btn-danger btn-xs" data-title="Delete" ng-click="removeOntology(database,term)">
                      <span class="glyphicon glyphicon-trash"></span>
                    </button>
                  </p>
                </td>
              </tr>
            </tr>
          </tbody>

        </table>

      </div>
    </div>
  </div>
  <div class="ngdialog-buttons mt pull-left" ng-show="viewOntology">
    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="onViewOntologyChange()"><i class="glyphicon glyphicon-chevron-left"></i></button>
  </div>
  <div class="ngdialog-buttons mt" ng-show="!viewOntology">
    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="onViewOntologyChange()"><i class="glyphicon glyphicon-chevron-right"></i></button>
  </div>
</script>






<style type="text/css">


@mixin gray-stripe {
background-size: 35px 35px;
background-color: #EcEcEc;
background-image: -webkit-linear-gradient(-45deg, rgba(255, 255, 255, .4) 25%, transparent 25%,transparent 50%, rgba(255, 255, 255, .4) 50%, rgba(255, 255, 255, .4) 75%,transparent 75%, transparent);
background-image: -moz-linear-gradient(-45deg, rgba(255, 255, 255, .4) 25%, transparent 25%,transparent 50%, rgba(255, 255, 255, .4) 50%, rgba(255, 255, 255, .4) 75%,transparent 75%, transparent);
}

@mixin blue-stripe {
background-size: 35px 35px;
background-color: #57aed1;
background-image: -webkit-linear-gradient(-45deg, rgba(255, 255, 255, .2) 25%, transparent 25%,transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%,transparent 75%, transparent);
background-image: -moz-linear-gradient(-45deg, rgba(255, 255, 255, .2) 25%, transparent 25%,transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%,transparent 75%, transparent);

}

@mixin green-stripe {
background-size: 35px 35px;
background-color: #8bc53f;
background-image: -webkit-linear-gradient(-45deg, rgba(255, 255, 255, .2) 25%, transparent 25%,transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%,transparent 75%, transparent);
background-image: -moz-linear-gradient(-45deg, rgba(255, 255, 255, .2) 25%, transparent 25%,transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%,transparent 75%, transparent);
}

@mixin inner-shadow {
-webkit-box-shadow: inset 2px 2px 2px 0px rgba(0, 0, 0, .2); box-shadow: inset 2px 2px 2px 0px rgba(0, 0, 0, .2);
}
@-webkit-keyframes myanimation {
  from {
    left: 0%;
  }
  to {
    left: 50%;
  }
}


.wellDimension {
      width: 100%;
/*      margin: 0px auto; 
      margin-top: 120px;*/
      padding: 19px;
      /*margin-bottom: 20px;*/
  }
  .progressbar {
      counter-reset: step;
     @include inner-shadow;
    background: #ccc;
    width: 100%;
    height: 15px;
    border-radius:15px;
    position:relative;
    z-index: -2;
  }
  .progressbar li {
      list-style-type: none;
      width: 25%;
      float: left;
      font-size: 16px;
      position: relative;
      text-align: center;
      text-transform: uppercase;
      color: #7d7d7d;
      margin-top: -10px;
  }
  .progressbar li:before {
      width: 32px;
      height: 32px;
      content: counter(step);
      counter-increment: step;
      line-height: 32px;
      border: 2px solid #7d7d7d;
      display: block;
      text-align: center;
      margin: 0 auto 10px auto;
      border-radius: 50%;
      background-color: white;
    z-index: 2;
  }
  .progressbar li:after {
      width: 100%;
      height: 4px;
      content: '';
      position: absolute;
      background-color: #7d7d7d;
      top: 16px;
      left: -50%;
      z-index: -1;
  }
  .progressbar li:first-child:after {
      content: none;
  }
  .progressbar li.active {
      color: green;
  }
  .progressbar li.active:before {
      border-color: #55b776;
  }
  .progressbar li.active + li:after {
      background-color: #55b776;
  }
</style>